<!DOCTYPE html>
<html>
<head>
    <title>Test Simple</title>
</head>
<body>
    <h1>Test SegurBot Simple</h1>
    <p>Deber√≠a aparecer un bot√≥n flotante abajo a la derecha</p>
    
    <button onclick="debugWidget()" style="background: red; color: white; padding: 10px; margin: 10px;">
        üîç DEBUG WIDGET
    </button>
    
    <div id="debug-info" style="background: #f0f0f0; padding: 15px; margin: 10px; border-radius: 5px;"></div>
    
    <script>
        function debugWidget() {
            const container = document.getElementById('segurbot-widget');
            const debugDiv = document.getElementById('debug-info');
            
            let info = '<h3>üîç Debug Info:</h3>';
            
            if (container) {
                const styles = window.getComputedStyle(container);
                info += `<h4>Container encontrado:</h4>
                <pre>
ID: ${container.id}
Classes: ${container.className}
Children: ${container.children.length}
Width: ${styles.width} (computed: ${container.offsetWidth}px)
Height: ${styles.height} (computed: ${container.offsetHeight}px)
Display: ${styles.display}
Visibility: ${styles.visibility}
Opacity: ${styles.opacity}
Position: ${styles.position}
Z-index: ${styles.zIndex}
Top: ${styles.top}
Left: ${styles.left}
Right: ${styles.right}
Bottom: ${styles.bottom}
Transform: ${styles.transform}
                </pre>`;
                
                // Buscar todos los elementos dentro
                info += '<h4>Elementos hijos:</h4>';
                Array.from(container.children).forEach((child, i) => {
                    const childStyles = window.getComputedStyle(child);
                    info += `<pre>Hijo ${i}: ${child.tagName}
Classes: ${child.className}
Display: ${childStyles.display}
Visibility: ${childStyles.visibility}
Opacity: ${childStyles.opacity}
Width: ${child.offsetWidth}px x Height: ${child.offsetHeight}px</pre>`;
                });
            } else {
                info += '<p>‚ùå Container no encontrado</p>';
            }
            
            // Buscar botones
            const buttons = document.querySelectorAll('button');
            info += `<h4>Todos los botones (${buttons.length}):</h4>`;
            buttons.forEach((btn, i) => {
                const btnStyles = window.getComputedStyle(btn);
                info += `<pre>Bot√≥n ${i}: 
Text: "${btn.textContent}"
Aria-label: "${btn.getAttribute('aria-label')}"
Classes: ${btn.className}
Display: ${btnStyles.display}
Visibility: ${btnStyles.visibility}
Opacity: ${btnStyles.opacity}
Position: ${btnStyles.position}
Size: ${btn.offsetWidth}x${btn.offsetHeight}</pre>`;
            });
            
            debugDiv.innerHTML = info;
        }
        
        setTimeout(() => {
            console.log('Widget status:', {
                SegurBotWidget: !!window.SegurBotWidget,
                instance: !!window.segurBotWidget,
                initialized: window.segurBotWidget?.initialized,
                container: !!document.getElementById('segurbot-widget'),
                button: !!document.querySelector('[aria-label*="chat"]')
            });
            
            debugWidget(); // Auto-ejecutar debug
        }, 3000);
    </script>

    <script 
        src="https://chatbotfrontend-tau.vercel.app/segurbot-widget.umd.js" 
        data-api-url="http://localhost:8080/api/chat" 
        data-title="Test Simple" 
        data-message="¬°Hola!"
    ></script>
</body>
</html>
